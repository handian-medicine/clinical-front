webpackJsonp([6],{"0tJt":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("GgDs"),r=o("SVz2"),n={name:"ChangePassword",components:{Header:a.a},data:function(){var e=this;return{logining:!1,changeForm:{oldcode:"",newcode:"",affirmcode:""},rules:{oldcode:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newcode:[{validator:function(t,o,a){""===o?a(new Error("请输入新密码")):(o.length<8?a(new Error("密码必须包含至少8个字符")):/^[0-9]*$/.test(o)?a(new Error("密码不能全部是数字")):""!==e.changeForm.affirmcode&&e.$refs.changeForm.validateField("affirmcode"),a())},trigger:"blur"}],affirmcode:[{validator:function(t,o,a){""===o?a(new Error("请再次输入密码")):o!==e.changeForm.newcode?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs.changeForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.logining=!0;var o=t.changeForm;Object(r.a)(o).then(function(e){if(t.logining=!1,"success"!==e.status){var o=void 0==e.old_password?e:e.old_password[0];t.$message({message:o,type:"error"})}else t.$message({message:"修改成功,请重新登录",type:"success"}),sessionStorage.removeItem("user"),sessionStorage.removeItem("userinfo"),t.$router.push({path:"/login"})})})}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Header",{on:{headerEvent:function(t){return e.collapsed=t}}}),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form",{ref:"changeForm",staticClass:"login-container",attrs:{model:e.changeForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[o("h3",{staticClass:"title"},[e._v("密码修改"),o("i",{staticClass:"fa fa-key"})]),e._v(" "),o("el-form-item",{attrs:{prop:"oldcode"}},[o("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"旧密码","suffix-icon":"fa fa-lock"},model:{value:e.changeForm.oldcode,callback:function(t){e.$set(e.changeForm,"oldcode",t)},expression:"changeForm.oldcode"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"newcode"}},[o("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"新密码","suffix-icon":"fa fa-lock"},model:{value:e.changeForm.newcode,callback:function(t){e.$set(e.changeForm,"newcode",t)},expression:"changeForm.newcode"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"affirmcode"}},[o("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码","suffix-icon":"fa fa-lock"},model:{value:e.changeForm.affirmcode,callback:function(t){e.$set(e.changeForm,"affirmcode",t)},expression:"changeForm.affirmcode"}})],1),e._v(" "),o("el-form-item",{staticStyle:{width:"100%"}},[o("el-button",{staticStyle:{width:"100%","border-radius":"2px"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._v("确认修改\n        ")])],1),e._v(" "),o("el-divider",{attrs:{"content-position":"center"}},[o("span",{staticStyle:{color:"rgb(94,143,189)"}},[e._v("\n          友情提示"),o("i",{staticClass:"fa fa-lightbulb-o"})])]),e._v(" "),o("div",[o("ul",[o("li",[o("i",{staticClass:"fa fa-hand-o-right",staticStyle:{color:"#5090C1"}}),e._v("\n                  你的密码不能与其他个人信息太相似\n              ")]),e._v(" "),o("li",[o("i",{staticClass:"fa fa-hand-o-right",staticStyle:{color:"#5090C1"}}),e._v("\n                  你的密码必须包含至少 8 个字符。\n              ")]),e._v(" "),o("li",[o("i",{staticClass:"fa fa-hand-o-right",staticStyle:{color:"#5090C1"}}),e._v("\n                  你的密码不能是大家都爱用的常见密码。\n              ")]),e._v(" "),o("li",[o("i",{staticClass:"fa fa-hand-o-right",staticStyle:{color:"#5090C1"}}),e._v("\n                  你的密码不能全部为数字。\n              ")])])])],1)],1)],1)},staticRenderFns:[]};var s=o("C7Lr")(n,i,!1,function(e){o("Gyqf")},"data-v-755b747a",null);t.default=s.exports},Gyqf:function(e,t){}});
//# sourceMappingURL=6.0ce2682367cf9b5b3567.js.map